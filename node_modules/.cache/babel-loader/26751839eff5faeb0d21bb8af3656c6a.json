{"ast":null,"code":"import \"antd/es/icon/style\";\nimport _Icon from \"antd/es/icon\";\nimport \"antd/es/notification/style\";\nimport _notification from \"antd/es/notification\";\nimport _classCallCheck from \"/Users/wangjie/WebstormSpace/\\u81EA\\u5DF1\\u642D\\u5EFA/react-admin/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/wangjie/WebstormSpace/\\u81EA\\u5DF1\\u642D\\u5EFA/react-admin/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/wangjie/WebstormSpace/\\u81EA\\u5DF1\\u642D\\u5EFA/react-admin/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/wangjie/WebstormSpace/\\u81EA\\u5DF1\\u642D\\u5EFA/react-admin/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/wangjie/WebstormSpace/\\u81EA\\u5DF1\\u642D\\u5EFA/react-admin/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport \"antd/es/layout/style\";\nimport _Layout from \"antd/es/layout\";\nvar _jsxFileName = \"/Users/wangjie/WebstormSpace/\\u81EA\\u5DF1\\u642D\\u5EFA/react-admin/src/App.js\";\nimport React, { Component } from 'react';\nimport SiderCustom from './components/SiderCustom';\nimport HeaderCustom from './components/HeaderCustom';\nimport { receiveData } from './action';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport Routes from './routes';\nimport { ThemePicker } from './components/widget';\nvar Content = _Layout.Content,\n    Footer = _Layout.Footer;\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(App)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      collapsed: false\n    };\n\n    _this.getClientWidth = function () {\n      // 获取当前浏览器宽度并设置responsive管理响应式\n      var receiveData = _this.props.receiveData;\n      var clientWidth = window.innerWidth;\n      console.log(clientWidth);\n      receiveData({\n        isMobile: clientWidth <= 992\n      }, 'responsive');\n    };\n\n    _this.toggle = function () {\n      _this.setState({\n        collapsed: !_this.state.collapsed\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this2 = this;\n\n      var receiveData = this.props.receiveData;\n      var user = JSON.parse(localStorage.getItem('user'));\n      user && receiveData(user, 'auth'); // receiveData({a: 213}, 'auth');\n      // fetchData({funcName: 'admin', stateName: 'auth'});\n\n      this.getClientWidth();\n\n      window.onresize = function () {\n        console.log('屏幕变化了');\n\n        _this2.getClientWidth();\n      };\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var openNotification = function openNotification() {\n        _notification.open({\n          message: '博主-yezihaohao',\n          description: React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 34\n            },\n            __self: this\n          }, React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 35\n            },\n            __self: this\n          }, \"GitHub\\u5730\\u5740\\uFF1A \", React.createElement(\"a\", {\n            href: \"https://github.com/yezihaohao\",\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 36\n            },\n            __self: this\n          }, \"https://github.com/yezihaohao\")), React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 38\n            },\n            __self: this\n          }, \"\\u535A\\u5BA2\\u5730\\u5740\\uFF1A \", React.createElement(\"a\", {\n            href: \"https://yezihaohao.github.io/\",\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 39\n            },\n            __self: this\n          }, \"https://yezihaohao.github.io/\"))),\n          icon: React.createElement(_Icon, {\n            type: \"smile-circle\",\n            style: {\n              color: 'red'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 43\n            },\n            __self: this\n          }),\n          duration: 0\n        });\n\n        localStorage.setItem('isFirst', JSON.stringify(true));\n      };\n\n      var isFirst = JSON.parse(localStorage.getItem('isFirst'));\n      !isFirst && openNotification();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          auth = _this$props.auth,\n          responsive = _this$props.responsive;\n      return React.createElement(_Layout, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, !responsive.data.isMobile && React.createElement(SiderCustom, {\n        collapsed: this.state.collapsed,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }), React.createElement(ThemePicker, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }), React.createElement(_Layout, {\n        style: {\n          flexDirection: 'column'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(HeaderCustom, {\n        toggle: this.toggle,\n        collapsed: this.state.collapsed,\n        user: auth.data || {},\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }), React.createElement(Content, {\n        style: {\n          margin: '0 16px',\n          overflow: 'initial',\n          flex: '1 1 0'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(Routes, {\n        auth: auth,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      })), React.createElement(Footer, {\n        style: {\n          textAlign: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, \"React-Admin \\xA9\", new Date().getFullYear(), \" Created by 865470087@qq.com\")));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  var _state$httpData = state.httpData,\n      _state$httpData$auth = _state$httpData.auth,\n      auth = _state$httpData$auth === void 0 ? {\n    data: {}\n  } : _state$httpData$auth,\n      _state$httpData$respo = _state$httpData.responsive,\n      responsive = _state$httpData$respo === void 0 ? {\n    data: {}\n  } : _state$httpData$respo;\n  return {\n    auth: auth,\n    responsive: responsive\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    receiveData: bindActionCreators(receiveData, dispatch)\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","map":{"version":3,"sources":["/Users/wangjie/WebstormSpace/自己搭建/react-admin/src/App.js"],"names":["React","Component","SiderCustom","HeaderCustom","receiveData","connect","bindActionCreators","Routes","ThemePicker","Content","Footer","App","state","collapsed","getClientWidth","props","clientWidth","window","innerWidth","console","log","isMobile","toggle","setState","user","JSON","parse","localStorage","getItem","onresize","openNotification","open","message","description","icon","color","duration","setItem","stringify","isFirst","auth","responsive","data","flexDirection","margin","overflow","flex","textAlign","Date","getFullYear","mapStateToProps","httpData","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Layout, notification, Icon } from 'antd';\nimport SiderCustom from './components/SiderCustom';\nimport HeaderCustom from './components/HeaderCustom';\nimport { receiveData } from './action';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport Routes from './routes';\nimport { ThemePicker } from './components/widget';\n\nconst { Content, Footer } = Layout;\n\nclass App extends Component {\n    state = {\n        collapsed: false,\n    };\n    componentWillMount() {\n        const { receiveData } = this.props;\n        const user = JSON.parse(localStorage.getItem('user'));\n        user && receiveData(user, 'auth');\n        // receiveData({a: 213}, 'auth');\n        // fetchData({funcName: 'admin', stateName: 'auth'});\n        this.getClientWidth();\n        window.onresize = () => {\n            console.log('屏幕变化了');\n            this.getClientWidth();\n        }\n    }\n    componentDidMount() {\n        const openNotification = () => {\n            notification.open({\n              message: '博主-yezihaohao',\n              description: (\n                  <div>\n                      <p>\n                          GitHub地址： <a href=\"https://github.com/yezihaohao\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/yezihaohao</a>\n                      </p>\n                      <p>\n                          博客地址： <a href=\"https://yezihaohao.github.io/\" target=\"_blank\" rel=\"noopener noreferrer\">https://yezihaohao.github.io/</a>\n                      </p>\n                  </div>\n              ),\n              icon: <Icon type=\"smile-circle\" style={{ color: 'red' }} />,\n              duration: 0,\n            });\n            localStorage.setItem('isFirst', JSON.stringify(true));\n        };\n        const isFirst = JSON.parse(localStorage.getItem('isFirst'));\n        !isFirst && openNotification();\n    }\n    getClientWidth = () => { // 获取当前浏览器宽度并设置responsive管理响应式\n        const { receiveData } = this.props;\n        const clientWidth = window.innerWidth;\n        console.log(clientWidth);\n        receiveData({isMobile: clientWidth <= 992}, 'responsive');\n    };\n    toggle = () => {\n        this.setState({\n            collapsed: !this.state.collapsed,\n        });\n    };\n    render() {\n        const { auth, responsive } = this.props;\n        return (\n            <Layout>\n                {!responsive.data.isMobile && <SiderCustom collapsed={this.state.collapsed} />}\n                <ThemePicker />\n                <Layout style={{flexDirection: 'column'}}>\n                    <HeaderCustom toggle={this.toggle} collapsed={this.state.collapsed} user={auth.data || {}} />\n                    <Content style={{ margin: '0 16px', overflow: 'initial', flex: '1 1 0' }}>\n                        <Routes auth={auth} />\n                    </Content>\n                    <Footer style={{ textAlign: 'center' }}>\n                    React-Admin ©{new Date().getFullYear()} Created by 865470087@qq.com\n                    </Footer>\n                </Layout>\n                \n                {/* {\n                    responsive.data.isMobile && (   // 手机端对滚动很慢的处理\n                        <style>\n                        {`\n                            #root{\n                                height: auto;\n                            }\n                        `}\n                        </style>\n                    )\n                } */}\n            </Layout>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    const { auth = {data: {}}, responsive = {data: {}} } = state.httpData;\n    return {auth, responsive};\n};\nconst mapDispatchToProps = dispatch => ({\n    receiveData: bindActionCreators(receiveData, dispatch)\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n"]},"metadata":{},"sourceType":"module"}